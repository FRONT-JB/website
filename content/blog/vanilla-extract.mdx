---
title: "ğŸ¨ Vanilla Extractë¡œ Next.js ìŠ¤íƒ€ì¼ë§ ë§ˆìŠ¤í„°í•˜ê¸°"
authors: [jb]
description: "Zero-runtime CSS-in-TypeScript ë¼ì´ë¸ŒëŸ¬ë¦¬ Vanilla Extractë¥¼ Next.js 14+ì—ì„œ í™œìš©í•˜ëŠ” ì™„ë²½ ê°€ì´ë“œ. í…Œë§ˆ ì‹œìŠ¤í…œë¶€í„° ê³ ê¸‰ íŒ¨í„´ê¹Œì§€!"
image: "/blog/vanilla-extract-thumbnail.webp"
tags: ["Frontend", "Nextjs", "CSS", "Typescript"]
---

## CSS-in-JSì˜ ë”œë ˆë§ˆì™€ ìƒˆë¡œìš´ í•´ê²°ì±…

<Callout>
  **Vanilla Extract**ëŠ” ì œë¡œ ëŸ°íƒ€ì„ CSS-in-TypeScript ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ë¹Œë“œ
  íƒ€ì„ì— ì •ì  CSS íŒŒì¼ì„ ìƒì„±í•˜ë©´ì„œë„ TypeScriptì˜ íƒ€ì… ì•ˆì „ì„±ì„ ì™„ë²½í•˜ê²Œ
  ì œê³µí•©ë‹ˆë‹¤. Styled-componentsë‚˜ Emotionê³¼ëŠ” ë‹¬ë¦¬ **ëŸ°íƒ€ì„ ì˜¤ë²„í—¤ë“œê°€ ì „í˜€
  ì—†ìŠµë‹ˆë‹¤.**
</Callout>

í˜„ëŒ€ ì›¹ ê°œë°œì—ì„œ CSS-in-JSëŠ” ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ìŠ¤íƒ€ì¼ë§ì˜ í‘œì¤€ì´ ë˜ì—ˆì§€ë§Œ, ëŸ°íƒ€ì„ ì„±ëŠ¥ ë¬¸ì œë¼ëŠ” ê·¼ë³¸ì ì¸ í•œê³„ë¥¼ ì•ˆê³  ìˆì—ˆìŠµë‹ˆë‹¤. Vanilla ExtractëŠ” ì´ëŸ¬í•œ ë”œë ˆë§ˆë¥¼ í•´ê²°í•˜ë©°, íŠ¹íˆ Next.jsì™€ ê°™ì€ SSR í™˜ê²½ì—ì„œ íƒì›”í•œ ì„±ëŠ¥ì„ ë°œíœ˜í•©ë‹ˆë‹¤.

## Next.js í™˜ê²½ì—ì„œì˜ Vanilla Extract ë„ì…

### íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ì˜ì¡´ì„± êµ¬ì„±

Vanilla Extractë¥¼ Next.js í”„ë¡œì íŠ¸ì— í†µí•©í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒ íŒ¨í‚¤ì§€ë“¤ì´ í•„ìš”í•©ë‹ˆë‹¤.

```bash
# Next.js í”ŒëŸ¬ê·¸ì¸ (ê°œë°œ ì˜ì¡´ì„±)
npm install --save-dev @vanilla-extract/next-plugin

# í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤
npm install @vanilla-extract/css @vanilla-extract/sprinkles @vanilla-extract/recipes
```

### Next.js ë¹Œë“œ ì‹œìŠ¤í…œ í†µí•©

<Callout>
  Next.jsì—ì„œ Vanilla Extractë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ **ë°˜ë“œì‹œ ì „ìš© í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì •**í•´ì•¼
  í•©ë‹ˆë‹¤. ì´ í”ŒëŸ¬ê·¸ì¸ì€ ë¹Œë“œ íƒ€ì„ì— `.css.ts` íŒŒì¼ì„ ì •ì  CSSë¡œ ë³€í™˜í•˜ëŠ” í•µì‹¬
  ì—­í• ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
</Callout>

```js
// next.config.js
const { createVanillaExtractPlugin } = require("@vanilla-extract/next-plugin");
const withVanillaExtract = createVanillaExtractPlugin();

/** @type {import('next').NextConfig} */
const nextConfig = {};

module.exports = withVanillaExtract(nextConfig);
```

### ë³µí•© í”ŒëŸ¬ê·¸ì¸ í™˜ê²½ì—ì„œì˜ ì„¤ì •

MDXë‚˜ ë‹¤ë¥¸ Next.js í”ŒëŸ¬ê·¸ì¸ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ë•ŒëŠ” í”ŒëŸ¬ê·¸ì¸ ì¡°í•© ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.

```js
// next.config.js
const { createVanillaExtractPlugin } = require("@vanilla-extract/next-plugin");
const withVanillaExtract = createVanillaExtractPlugin();

const withMDX = require("@next/mdx")({
  extension: /\.mdx$/,
});

/** @type {import('next').NextConfig} */
const nextConfig = {};

// í”ŒëŸ¬ê·¸ì¸ ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤
module.exports = withVanillaExtract(withMDX(nextConfig));
```

## ê¸°ë³¸ ìŠ¤íƒ€ì¼ë§ ì‹œìŠ¤í…œ êµ¬ì¶•

### TypeScript ê¸°ë°˜ ìŠ¤íƒ€ì¼ ì •ì˜

Vanilla Extractì˜ í•€ì‹¬ì€ `.css.ts` íŒŒì¼ì—ì„œ TypeScriptë¡œ ìŠ¤íƒ€ì¼ì„ ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
// styles.css.ts
import { style } from "@vanilla-extract/css";

export const container = style({
  padding: 10,
  backgroundColor: "blue",
  borderRadius: 4,
  color: "white",
});
```

### React ì»´í¬ë„ŒíŠ¸ í†µí•©

<Callout>
  Vanilla Extractì—ì„œ ìƒì„±ëœ ìŠ¤íƒ€ì¼ì€ **ì¼ë°˜ì ì¸ CSS í´ë˜ìŠ¤ëª…**ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜
  ìˆìŠµë‹ˆë‹¤. React ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” `className` propì— ì§ì ‘ í• ë‹¹í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.
</Callout>

```tsx
// app.tsx
import { container } from "./styles.css.ts";

export default function App() {
  return <div className={container}>Hello Vanilla Extract!</div>;
}
```

## ê¸°ì—…ê¸‰ í…Œë§ˆ ì‹œìŠ¤í…œ ì„¤ê³„

### CSS ë³€ìˆ˜ ê¸°ë°˜ í…Œë§ˆ êµ¬ì¡°

Vanilla Extractì˜ í•µì‹¬ ê°•ì ì€ CSS ë³€ìˆ˜ë¥¼ í™œìš©í•œ ì²´ê³„ì ì¸ í…Œë§ˆ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë‹¤í¬ ëª¨ë“œ, ë¸Œëœë“œ ì»¤ìŠ¤í…€ë§ˆì´ì§• ë“±ì„ ì›í™œí•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
// theme.css.ts
import { createTheme } from "@vanilla-extract/css";

export const [themeClass, vars] = createTheme({
  color: {
    brand: "blue",
    accent: "green",
    background: "white",
    text: "black",
  },
  font: {
    body: "Arial, sans-serif",
    heading: "Georgia, serif",
  },
});

export const darkTheme = createTheme(vars, {
  color: {
    brand: "lightblue",
    accent: "lightgreen",
    background: "black",
    text: "white",
  },
  font: {
    body: "Arial, sans-serif",
    heading: "Georgia, serif",
  },
});
```

### í…Œë§ˆ ê³„ì•½(Contract) ê¸°ë°˜ ì•„í‚¤í…ì²˜

<Callout>
  **í…Œë§ˆ ê³„ì•½**ì€ CSS ì—†ì´ í…Œë§ˆ êµ¬ì¡°ë§Œ ì •ì˜í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì´ ì ‘ê·¼ë²•ì€ ë²ˆë“¤
  ë¶„í•  ìµœì í™”ì™€ ì—¬ëŸ¬ í…Œë§ˆì˜ ë…ë¦½ì  ê´€ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.
</Callout>

```ts
// contract.css.ts - í…Œë§ˆ êµ¬ì¡°ë§Œ ì •ì˜
import { createThemeContract } from "@vanilla-extract/css";

export const vars = createThemeContract({
  color: {
    brand: null,
    accent: null,
    background: null,
    text: null,
  },
  font: {
    body: null,
    heading: null,
  },
});
```

```ts
// light-theme.css.ts
import { createTheme } from "@vanilla-extract/css";
import { vars } from "./contract.css.ts";

export const lightTheme = createTheme(vars, {
  color: {
    brand: "blue",
    accent: "green",
    background: "white",
    text: "black",
  },
  font: {
    body: "Arial, sans-serif",
    heading: "Georgia, serif",
  },
});
```

## ìœ í‹¸ë¦¬í‹° í¼ìŠ¤íŠ¸ CSS ì‹œìŠ¤í…œ

### Sprinklesì˜ ê¸°ìˆ ì  ìš°ìœ„ì„±

<Callout>
  **Sprinkles**ëŠ” Tailwind CSSì™€ ë¹„ìŠ·í•œ ìœ í‹¸ë¦¬í‹° í¼ìŠ¤íŠ¸ ì ‘ê·¼ë²•ì„ ì œê³µí•˜ì§€ë§Œ,
  **ë¹Œë“œ íƒ€ì„ ìµœì í™”**ì™€ **ì™„ì „í•œ íƒ€ì… ì•ˆì „ì„±**ì„ ë™ì‹œì— ì œê³µí•©ë‹ˆë‹¤.
</Callout>

### ì›ìì  CSS í´ë˜ìŠ¤ ì‹œìŠ¤í…œ êµ¬ì„±

```ts
// sprinkles.css.ts
import { defineProperties, createSprinkles } from "@vanilla-extract/sprinkles";

// ìŠ¤í˜ì´ì‹± ê°’ë“¤ ì •ì˜
const space = {
  none: 0,
  small: "4px",
  medium: "8px",
  large: "16px",
  xlarge: "32px",
};

// ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ì •ì˜
const colors = {
  "blue-50": "#eff6ff",
  "blue-100": "#dbeafe",
  "blue-200": "#bfdbfe",
  "gray-100": "#f3f4f6",
  "gray-700": "#374151",
  "gray-800": "#1f2937",
  "gray-900": "#111827",
};

// ë°˜ì‘í˜• ì†ì„±ë“¤ ì •ì˜
const responsiveProperties = defineProperties({
  conditions: {
    mobile: {},
    tablet: { "@media": "screen and (min-width: 768px)" },
    desktop: { "@media": "screen and (min-width: 1024px)" },
  },
  defaultCondition: "mobile",
  properties: {
    display: ["none", "flex", "block", "inline"],
    flexDirection: ["row", "column"],
    justifyContent: [
      "stretch",
      "flex-start",
      "center",
      "flex-end",
      "space-around",
      "space-between",
    ],
    alignItems: ["stretch", "flex-start", "center", "flex-end"],
    paddingTop: space,
    paddingBottom: space,
    paddingLeft: space,
    paddingRight: space,
  },
  shorthands: {
    padding: ["paddingTop", "paddingBottom", "paddingLeft", "paddingRight"],
    paddingX: ["paddingLeft", "paddingRight"],
    paddingY: ["paddingTop", "paddingBottom"],
    placeItems: ["justifyContent", "alignItems"],
  },
});

// ìƒ‰ìƒ ì†ì„±ë“¤ ì •ì˜ (ë‹¤í¬ëª¨ë“œ ì§€ì›)
const colorProperties = defineProperties({
  conditions: {
    lightMode: {},
    darkMode: { "@media": "(prefers-color-scheme: dark)" },
  },
  defaultCondition: "lightMode",
  properties: {
    color: colors,
    background: colors,
  },
});

// ìµœì¢… sprinkles í•¨ìˆ˜ ìƒì„±
export const sprinkles = createSprinkles(responsiveProperties, colorProperties);
export type Sprinkles = Parameters<typeof sprinkles>[0];
```

### ì‹¤ì „ í™œìš© ì˜ˆì œ

```ts
// styles.css.ts
import { sprinkles } from "./sprinkles.css.ts";

export const responsiveContainer = sprinkles({
  display: "flex",
  paddingX: "small",
  // ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ë§
  flexDirection: {
    mobile: "column",
    desktop: "row",
  },
  // ë‹¤í¬ëª¨ë“œ ëŒ€ì‘
  background: {
    lightMode: "blue-50",
    darkMode: "gray-700",
  },
});
```

<Callout type="info" title="Sprinklesì˜ ì¥ì ">

- **íƒ€ì… ì•ˆì „ì„±**: ì˜ëª»ëœ ì†ì„±ê°’ ì‚¬ìš© ì‹œ ì»´íŒŒì¼ ì—ëŸ¬
- **ë²ˆë“¤ ìµœì í™”**: ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ìŠ¤íƒ€ì¼ì€ ìë™ìœ¼ë¡œ ì œê±°
- **ë°˜ì‘í˜• ë””ìì¸**: ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬

</Callout>

## ì»´í¬ë„ŒíŠ¸ ë³€í˜• ê´€ë¦¬ ì‹œìŠ¤í…œ

### Recipe íŒ¨í„´ì˜ í•„ìš”ì„±

<Callout>
  **Recipe ì‹œìŠ¤í…œ**ì€ ì»´í¬ë„ŒíŠ¸ì˜ ë‹¤ì–‘í•œ ë³€í˜•(variant)ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ”
  íŒ¨í„´ì…ë‹ˆë‹¤. ëŒ€ê·œëª¨ ë””ìì¸ ì‹œìŠ¤í…œì—ì„œ ì»´í¬ë„ŒíŠ¸ì˜ ì¼ê´€ì„±ê³¼ ìœ ì—°ì„±ì„ ë™ì‹œì—
  í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

### ê¸°ë³¸ Recipe êµ¬ì¡° ì„¤ê³„

```ts
// button.css.ts
import { recipe } from "@vanilla-extract/recipes";

export const button = recipe({
  base: {
    borderRadius: 6,
    border: "none",
    cursor: "pointer",
    fontWeight: "bold",
  },
  variants: {
    color: {
      neutral: { background: "whitesmoke", color: "black" },
      brand: { background: "blueviolet", color: "white" },
      accent: { background: "slateblue", color: "white" },
    },
    size: {
      small: { padding: "8px 12px", fontSize: "14px" },
      medium: { padding: "12px 16px", fontSize: "16px" },
      large: { padding: "16px 24px", fontSize: "18px" },
    },
    rounded: {
      true: { borderRadius: 999 },
    },
  },
  // ì—¬ëŸ¬ variant ì¡°í•©ì— ëŒ€í•œ íŠ¹ë³„í•œ ìŠ¤íƒ€ì¼
  compoundVariants: [
    {
      variants: {
        color: "neutral",
        size: "large",
      },
      style: {
        background: "ghostwhite",
      },
    },
  ],
  defaultVariants: {
    color: "accent",
    size: "medium",
  },
});
```

### Sprinklesì™€ Recipe í†µí•© íŒ¨í„´

ê³ ê¸‰ ë””ìì¸ ì‹œìŠ¤í…œì—ì„œ ê°€ì¥ íš¨ê³¼ì ì¸ ì ‘ê·¼ë²•ì€ Sprinkles ìœ í‹¸ë¦¬í‹°ì™€ Recipe ì‹œìŠ¤í…œì„ ì‚¬ë¦¬ì— ë§ê²Œ ê²°í•©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```ts
// advanced-button.css.ts
import { recipe } from "@vanilla-extract/recipes";
import { reset } from "./reset.css.ts";
import { sprinkles } from "./sprinkles.css.ts";

export const advancedButton = recipe({
  base: [
    reset, // CSS ë¦¬ì…‹
    sprinkles({
      display: "inline-flex",
      alignItems: "center",
      justifyContent: "center",
    }),
  ],
  variants: {
    color: {
      neutral: sprinkles({ background: "gray-100" }),
      brand: sprinkles({ background: "blue-100" }),
      accent: sprinkles({ background: "blue-200" }),
    },
    size: {
      small: sprinkles({ paddingX: "small", paddingY: "small" }),
      medium: sprinkles({ paddingX: "medium", paddingY: "medium" }),
      large: sprinkles({ paddingX: "large", paddingY: "large" }),
    },
  },
  defaultVariants: {
    color: "accent",
    size: "medium",
  },
});
```

## ëŸ°íƒ€ì„ ìŠ¤íƒ€ì¼ ì œì–´

### ë™ì  ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶•

<Callout>
  ì‚¬ìš©ì ì¸í„°ë™ì…˜ì´ë‚˜ API ì‘ë‹µì— ë”°ë¼ **ëŸ°íƒ€ì„ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸**ê°€ í•„ìš”í•œ ê²½ìš°ê°€
  ìˆìŠµë‹ˆë‹¤. vanilla-extractëŠ” `@vanilla-extract/dynamic` íŒ¨í‚¤ì§€ë¥¼ í†µí•´ íƒ€ì…
  ì•ˆì „í•œ ë™ì  ìŠ¤íƒ€ì¼ë§ì„ ì§€ì›í•©ë‹ˆë‹¤.
</Callout>

```tsx
// app.tsx
import { assignInlineVars } from "@vanilla-extract/dynamic";
import { container, themeVars } from "./theme.css.ts";

interface ContainerProps {
  brandColor: string;
  fontFamily: string;
}

const Container = ({ brandColor, fontFamily }: ContainerProps) => (
  <section
    className={container}
    style={assignInlineVars(themeVars, {
      color: { brand: brandColor },
      font: { body: fontFamily },
    })}
  >
    ë™ì  ìŠ¤íƒ€ì¼ë§ì´ ì ìš©ëœ ì»¨í…Œì´ë„ˆ
  </section>
);
```

### ëª…ë ¹í˜• ìŠ¤íƒ€ì¼ ì œì–´

DOM APIë¥¼ í™œìš©í•˜ì—¬ CSS ë³€ìˆ˜ë¥¼ ì§ì ‘ ì œì–´í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

```ts
// app.ts
import { setElementVars } from "@vanilla-extract/dynamic";
import { brandColor, textColor } from "./styles.css.ts";

const el = document.getElementById("myElement");

setElementVars(el, {
  [brandColor]: "pink",
  [textColor]: null, // null ê°’ì€ í• ë‹¹ë˜ì§€ ì•ŠìŒ
});
```

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ

### ì£¼ìš” ì´ìŠˆ ë° í•´ê²° ë°©ë²•

#### ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í†µí•© ì´ìŠˆ

<Callout type="error" title="ì¦ìƒ">
  ì™¸ë¶€ ë””ìì¸ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ì˜ ìŠ¤íƒ€ì¼ì´ ëˆ„ë½ë˜ê±°ë‚˜ ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”
  ê²½ìš°ì…ë‹ˆë‹¤.
</Callout>

**í•´ê²° ë°©ë²•**: Next.js ì„¤ì •ì—ì„œ `transpilePackages` ì˜µì…˜ì„ í™œìš©í•˜ì—¬ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ íŠ¸ëœìŠ¤íŒŒì¼ ëŒ€ìƒì— í¬í•¨ì‹œí‚µë‹ˆë‹¤.

```js
// next.config.js
const nextConfig = {
  transpilePackages: ["@company/design-system"],
};

module.exports = withVanillaExtract(nextConfig);
```

#### Jest í…ŒìŠ¤íŠ¸ í™˜ê²½ ì¶©ëŒ

<Callout>
  Jestì˜ ê¸°ë³¸ CSS ëª¨í‚¹ ì„¤ì •ì´ vanilla-extractì˜ `.css.ts` íŒŒì¼ê³¼ ì¶©ëŒí•˜ì—¬ í…ŒìŠ¤íŠ¸
  ì‹¤í–‰ì— ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

**í•´ê²° ë°©ë²• 1**: vanilla-extract ì „ìš© Jest transformer ì ìš©

```json
// jest.config.js
{
  "transform": {
    "\\.css\\.ts$": "@vanilla-extract/jest-transform"
  }
}
```

**í•´ê²° ë°©ë²• 2**: ì •ê·œ í‘œí˜„ì‹ì„ í†µí•´ ëª¨í‚¹ ëŒ€ìƒì„ ì •ë°€í•˜ê²Œ ì œì–´

```json
{
  "jest": {
    "moduleNameMapper": {
      "legacy-styles/.*\\.css$": "<rootDir>/styleMock.js"
    }
  }
}
```

## ì„±ëŠ¥ ìµœì í™” ì „ëµ

### CSS í´ë˜ìŠ¤ëª… ìµœì í™”

<Callout>
  ë¹Œë“œ í™˜ê²½ì— ë”°ë¼ CSS í´ë˜ìŠ¤ëª… ìƒì„± ì „ëµì„ ì¡°ì •í•˜ì—¬ ë²ˆë“¤ í¬ê¸°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ
  ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

```ts
// next.config.js
const withVanillaExtract = createVanillaExtractPlugin({
  identifiers: "short", // 'hnw5tz3' ê°™ì€ ì§§ì€ í•´ì‹œ
});

// ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë””ë²„ê¹…ì„ ìœ„í•´
const withVanillaExtract = createVanillaExtractPlugin({
  identifiers: "debug", // 'myfile_mystyle_hnw5tz3' ê°™ì€ ì„¤ëª…ì  ì´ë¦„
});
```

### ë²ˆë“¤ í¬ê¸° ìµœì í™”

ë°˜ì‘í˜• ë°°ì—´ í‘œê¸°ë²•ì„ í™œìš©í•˜ì—¬ ì½”ë“œ ê°€ë…ì„±ê³¼ ë²ˆë“¤ íš¨ìœ¨ì„±ì„ ë™ì‹œì— í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
// sprinkles.css.ts
const responsiveProperties = defineProperties({
  conditions: {
    mobile: {},
    tablet: { "@media": "screen and (min-width: 768px)" },
    desktop: { "@media": "screen and (min-width: 1024px)" },
  },
  defaultCondition: "mobile",
  responsiveArray: ["mobile", "tablet", "desktop"], // ìˆœì„œ ì •ì˜
});

// ì‚¬ìš©ë²•
sprinkles({
  flexDirection: ["column", "row", "row"], // mobile, tablet, desktop ìˆœì„œ
});
```

## ì‹¤ë¬´ ì ìš© ê°€ì´ë“œ

### ì»´í¬ë„ŒíŠ¸ Props ë¶„ë¦¬ íŒ¨í„´

Sprinkles ìŠ¤íƒ€ì¼ ì†ì„±ê³¼ ì»´í¬ë„ŒíŠ¸ ê³ ìœ  ì†ì„±ì„ ìë™ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•˜ëŠ” ê³ ê¸‰ íŒ¨í„´ì…ë‹ˆë‹¤.

```ts
// ìŠ¤í”„ë§í´ìŠ¤ ì†ì„±ì¸ì§€ í™•ì¸
sprinkles.properties.has('paddingX'); // boolean ë°˜í™˜

// ì»´í¬ë„ŒíŠ¸ì—ì„œ í™œìš©
function MyComponent(props) {
  const sprinkleProps = {};
  const otherProps = {};

  Object.keys(props).forEach(key => {
    if (sprinkles.properties.has(key)) {
      sprinkleProps[key] = props[key];
    } else {
      otherProps[key] = props[key];
    }
  });

  return (
    <div
      className={sprinkles(sprinkleProps)}
      {...otherProps}
    >
      {props.children}
    </div>
  );
}
```

### í‚¤í”„ë ˆì„ ì• ë‹ˆë©”ì´ì…˜ ê³ ê¸‰ ê¸°ë²•

```ts
import { createVar, keyframes } from "@vanilla-extract/css";

const angle = createVar({
  syntax: "<angle>",
  inherits: false,
  initialValue: "0deg",
});

export const spin = keyframes({
  "0%": {
    vars: { [angle]: "0deg" },
  },
  "100%": {
    vars: { [angle]: "360deg" },
  },
});
```

### CSS ê³„ì‚° í•¨ìˆ˜ ìµœì í™”

vanilla-extractì˜ `@vanilla-extract/css-utils` íŒ¨í‚¤ì§€ëŠ” CSS `calc()` í•¨ìˆ˜ë¥¼ íƒ€ì… ì•ˆì „í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ìœ í‹¸ë¦¬í‹°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

#### ê¸°ë³¸ calc ì—°ì‚°

```ts
import { calc } from "@vanilla-extract/css-utils";

// ì§ì ‘ ë©”ì„œë“œ ì‚¬ìš©
const styles = {
  height: calc.multiply("var(--grid-unit)", 2),
  width: calc.divide("100vw", 3),
  margin: calc.negate("var(--space-large)"),
};
```

#### ì²´ì´ë‹ API í™œìš©

ë³µì¡í•œ ê³„ì‚°ì‹ì„ ì²´ì¸ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ê°€ë…ì„± ìˆê²Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
import { calc } from "@vanilla-extract/css-utils";

const complexCalculation = style({
  // ì—¬ëŸ¬ ì—°ì‚°ì„ ì²´ì´ë‹
  marginTop: calc("var(--space-large)").divide(2).negate().toString(),

  // CSS Grid ê³„ì‚°
  gridTemplateColumns: calc("100%")
    .subtract("var(--sidebar-width)")
    .subtract("var(--padding)")
    .toString(),
});
```

#### ì¤‘ì²© ì—°ì‚° ê°œì„  (v1.8.0+)

ìµœì‹  ë²„ì „ì—ì„œëŠ” ì¤‘ì²©ëœ `calc` ì—°ì‚°ì´ í¬ê²Œ ê°œì„ ë˜ì–´ ë” ì§ê´€ì ì¸ ì½”ë“œ ì‘ì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```ts
// ì´ì „ ë²„ì „: toString() ëª…ì‹œì  í˜¸ì¶œ í•„ìš”
const oldStyle = {
  width: calc("10px").add(calc("20px").subtract("4px").toString()),
};

// ê°œì„ ëœ ë²„ì „: ìë™ ì²˜ë¦¬
const newStyle = {
  width: calc("10px").add(calc("20px").subtract("4px")),
};
```

#### í…Œë§ˆ ë³€ìˆ˜ì™€ì˜ ê²°í•©

í…Œë§ˆ ì‹œìŠ¤í…œê³¼ ê²°í•©í•˜ì—¬ ë™ì  ê³„ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
import { calc } from "@vanilla-extract/css-utils";
import { vars } from "./theme.css.ts";

const responsiveContainer = style({
  // í…Œë§ˆ ë³€ìˆ˜ë¥¼ í™œìš©í•œ ë°˜ì‘í˜• ê³„ì‚°
  padding: calc(vars.space.medium).multiply(2),

  // ë·°í¬íŠ¸ ê¸°ë°˜ ê³„ì‚°
  maxWidth: calc("100vw").subtract(vars.space.large),

  // ë³µí•© ê³„ì‚°ì‹
  fontSize: calc(vars.fontSize.base)
    .multiply("var(--scale-factor, 1)")
    .add("2px"),
});
```

#### ìœ ìš©í•œ calc íŒ¨í„´

ì‹¤ë¬´ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ìœ ìš©í•œ íŒ¨í„´ë“¤ì…ë‹ˆë‹¤.

```ts
import { calc } from "@vanilla-extract/css-utils";

// ì„¼í„°ë§ ê³„ì‚°
const centeredElement = style({
  left: "50%",
  transform: `translateX(${calc("50%").negate()})`,
});

// ë¹„ìœ¨ ê¸°ë°˜ ê³„ì‚°
const aspectRatioContainer = style({
  width: "100%",
  height: calc("100%").multiply(9).divide(16), // 16:9 ë¹„ìœ¨
});

// ê·¸ë¦¬ë“œ ê°­ ê³„ì‚°
const gridItem = style({
  width: calc("100%").subtract(calc(vars.grid.gap).multiply(2)).divide(3),
});

// ë‹¤ì¤‘ ë‹¨ìœ„ ê³„ì‚°
const fluidTypography = style({
  fontSize: calc("1rem").add(calc("2vw")).add(calc("0.5em")),
});
```

ì´ëŸ¬í•œ `calc` ìœ í‹¸ë¦¬í‹°ë¥¼ í™œìš©í•˜ë©´ ë³µì¡í•œ CSS ê³„ì‚°ì„ íƒ€ì… ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ë©´ì„œë„ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ê²°ë¡ 

**vanilla-extractëŠ” Next.js 14+ í™˜ê²½ì—ì„œ ì œë¡œ ëŸ°íƒ€ì„ CSS-in-TypeScript ì†”ë£¨ì…˜ì˜ ìƒˆë¡œìš´ í‘œì¤€ì„ ì œì‹œí•©ë‹ˆë‹¤.** ì»´íŒŒì¼ íƒ€ì„ ìµœì í™”ì™€ TypeScriptì˜ íƒ€ì… ì•ˆì „ì„±ì„ ê²°í•©í•˜ì—¬, ëŒ€ê·œëª¨ í”„ë¡œë•ì…˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìš”êµ¬ë˜ëŠ” ì„±ëŠ¥ê³¼ ê°œë°œì ê²½í—˜ì„ ëª¨ë‘ ë§Œì¡±ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
